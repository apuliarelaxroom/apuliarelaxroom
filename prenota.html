
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Prenota - Apulia Relax Room</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('sfondo.jpg');
            background-size: cover;
            color: white;
            padding: 20px;
        }
        form {
            background-color: rgba(0,0,0,0.6);
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: auto;
        }
        h1, h2 {
            text-align: center;
        }
        label {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: none;
        }
        .checkbox-row {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        .checkbox-row input {
            margin-right: 10px;
        }
        .extra-section {
            margin-top: 20px;
        }
        #total {
            font-size: 18px;
            font-weight: bold;
            margin-top: 15px;
            text-align: center;
        }
        .whatsapp-button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #25D366;
            color: white;
            font-size: 16px;
            text-align: center;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <form id="bookingForm">
        <h1>Prenota il tuo soggiorno</h1>
        <label>Nome</label><input type="text" name="nome" required>
        <label>Cognome</label><input type="text" name="cognome" required>
        <label>Cellulare</label><input type="tel" name="cellulare" required>
        <label>Email</label><input type="email" name="email" required>
        <label>Data</label><input type="date" name="data" required>
        <label>Quante persone?</label>
        <select name="persone" id="persone" required onchange="calcolaTotale()">
            <option value="">Seleziona</option>
            <option value="1">1 persona (‚Ç¨80)</option>
            <option value="2">2 persone (‚Ç¨160)</option>
            <option value="3">3 persone (‚Ç¨240)</option>
            <option value="4">4 persone (‚Ç¨320)</option>
        </select>
        <p>* Et√† minima 13 anni per il pernotto.</p>

        <div class="extra-section">
            <h2>Servizi extra:</h2>
            <div class="checkbox-row"><input type="checkbox" value="15" onchange="calcolaTotale()">üç∑ Spillatura di Rosato (‚Ç¨15)</div>
            <div class="checkbox-row"><input type="checkbox" value="40" onchange="calcolaTotale()">üç± Aperitivo di Benvenuto (‚Ç¨40)</div>
            <div class="checkbox-row"><input type="checkbox" value="20" onchange="calcolaTotale()">üçæ Prosecco Mionetto (‚Ç¨20)</div>
            <div class="checkbox-row"><input type="checkbox" value="25" onchange="calcolaTotale()">üßÅ Vassoio di Pasticcini (‚Ç¨25)</div>
            <div class="checkbox-row"><input type="checkbox" value="30" onchange="calcolaTotale()">üåπ Addobbo romantico (‚Ç¨30)</div>
            <div class="checkbox-row"><input type="checkbox" value="55" onchange="calcolaTotale()">üíÜ‚Äç‚ôÄÔ∏è Massaggio 40 minuti (‚Ç¨55)</div>
            <div class="checkbox-row"><input type="checkbox" value="50" onchange="calcolaTotale()">üí¶ Piscina Esterna (‚Ç¨50)</div>
            <p>‚òï <strong>Colazione omaggio</strong></p>
        </div>

        <label>Note</label><textarea name="note" rows="4"></textarea>
        <p style="margin-top:10px;">* Compila questo modulo: ti risponderemo al pi√π presto con la disponibilit√† e i dettagli per la conferma.</p>
        <p><strong>Pagamento:</strong> 50% acconto e saldo all'arrivo.</p>
        <p><strong>Check-in:</strong> dalle 18:00 alle 21:00 | <strong>Check-out:</strong> entro le 10:00</p>

        <div id="total">Totale: ‚Ç¨0</div>
        <a id="whatsappLink" class="whatsapp-button" target="_blank">Invia su WhatsApp</a>
    </form>

    <script>
        function calcolaTotale() {
            const select = document.getElementById('persone');
            const base = parseInt(select.value || 0) * 80;
            let extra = 0;
            document.querySelectorAll('input[type=checkbox]').forEach(cb => {
                if (cb.checked) extra += parseInt(cb.value);
            });
            document.getElementById('total').innerText = 'Totale: ‚Ç¨' + (base + extra);
            aggiornaLinkWhatsapp(base + extra);
        }

        function aggiornaLinkWhatsapp(totale) {
            const form = document.forms['bookingForm'];
            const nome = form['nome'].value;
            const cognome = form['cognome'].value;
            const cell = form['cellulare'].value;
            const email = form['email'].value;
            const data = form['data'].value;
            const persone = form['persone'].value;
            const note = form['note'].value;
            let extras = [];
            document.querySelectorAll('input[type=checkbox]').forEach(cb => {
                if (cb.checked) extras.push(cb.parentNode.textContent.trim());
            });
            const msg = `Prenotazione da ${nome} ${cognome}%0Aüìû ${cell} | üìß ${email}%0Aüóì Data: ${data}%0Aüë• Persone: ${persone}%0AExtra: ${extras.join(', ')}%0Aüí∂ Totale: ‚Ç¨${totale}%0Aüìå Note: ${note}`;
            document.getElementById('whatsappLink').href = `https://wa.me/?text=${encodeURIComponent(msg)}`;
        }
    </script>
</body>
</html>
